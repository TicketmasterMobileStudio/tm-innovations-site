{"version":3,"sources":["form.js"],"names":["$","document","ready","hideLabels","each","i","this","removeClass","on","ev","$form","$btn","$msg","hide","text","prop","val","ajax","type","attr","url","data","serialize","cache","dataType","contentType","error","err","success","result","show","foundation","preventDefault","timeout","clearTimeout","setTimeout"],"mappings":"AAAA,YAEAA,GAAEC,UAAUC,MAAM,WA0ChB,QAASC,KACOH,EAAE,qCACRI,KAAK,SAASC,GACV,IAANA,GACFL,EAAEM,MAAMC,YAAY,gBA3C1BP,EAAEC,UAAUO,GAAG,qBAAsB,SAASC,EAAIC,GAChD,GAAIC,GAAOX,EAAE,0BACTY,EAAOZ,EAAE,sBAEbY,GAAKC,OAAOC,KAAK,IACjBH,EAAKI,KAAK,YAAY,GAAMC,IAAI,sBAEhChB,EAAEiB,MACAC,KAAMR,EAAMS,KAAK,UACjBC,IAAKV,EAAMS,KAAK,UAChBE,KAAMX,EAAMY,YACZC,OAAO,EACPC,SAAU,OACVC,YAAa,kCACbC,MAAO,SAASC,GACZhB,EAAKI,KAAK,YAAY,GAAOC,IAAI,WACjCJ,EAAKE,KAAKa,IAEdC,QAAS,SAASP,GACM,YAAhBA,EAAKQ,OACPjB,EAAKE,KAAKO,EAAKQ,QAAQC,OAEvB9B,EAAE,kBAAkB+B,WAAW,QAEjCpB,EAAKI,KAAK,YAAY,GAAOC,IAAI,gBAGtCR,GAAG,SAAU,SAASC,GACvBA,EAAGuB,kBAIL,IAAIC,EAEJjC,GAAE,+BAA+BQ,GAAG,mBAAoB,WACtD0B,aAAaD,GACbA,EAAUE,WAAWhC,EAAY","file":"form.min.js","sourcesContent":["'use strict';\n\n$(document).ready(function() {\n\n  // Submit EAP form\n  $(document).on('formvalid.zf.abide', function(ev, $form) {\n    var $btn = $('#mc-embedded-subscribe');\n    var $msg = $('#mce-error-response');\n\n    $msg.hide().text('');\n    $btn.prop('disabled', true).val('Signing Up&hellip;');\n\n    $.ajax({\n      type: $form.attr('method'),\n      url: $form.attr('action'),\n      data: $form.serialize(),\n      cache: false,\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8',\n      error: function(err) {\n          $btn.prop('disabled', false).val('Sign Up');\n          $msg.text(err);\n        },\n      success: function(data) {\n          if (data.result !== 'success') {\n            $msg.text(data.result).show();\n          } else {\n            $('#success-modal').foundation('open');\n          }\n          $btn.prop('disabled', false).val('Sign Up');\n        }\n    });\n  }).on('submit', function(ev) {\n    ev.preventDefault();\n  });\n\n  // Hide all but first validation error on EAP form\n  var timeout;\n\n  $('.eap form[data-abide] input').on('invalid.zf.abide', function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(hideLabels, 10);\n  });\n\n  function hideLabels() {\n    var $errors = $('input[data-invalid] + .form-error');\n    $errors.each(function(i) {\n      if (i !== 0) {\n        $(this).removeClass('is-visible');\n      }\n    });\n  }\n});\n"]}