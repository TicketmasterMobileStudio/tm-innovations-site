{"version":3,"sources":["home.js"],"names":["$","document","ready","setPanelHeight","size","viewport","max","min","navHeight","height","css","initMoreArrow","newSize","oldSize","options","barOffset","animationDuration","animationEasing","Foundation","Magellan","addDetailTransitions","MediaQuery","atLeast","each","this","off","$product","click","e","preventDefault","addClass","foundation","attr","setTimeout","dest","location","href","removeClass","target","current","window","resize","on"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WAChB,aAmBA,SAASC,EAAeC,GACtB,GAAa,UAATA,EAAkB,CACDC,SAASC,IAAMD,SAASE,IAA3C,IACIC,EAAYR,EAAE,kBAAkBS,SAEpCT,EAAE,SAASU,IAAI,SAAUL,SAASE,IAAMC,GACxCR,EAAE,WAAWU,IAAI,SAAUL,SAASC,UAEpCN,EAAE,SAASU,IAAI,SAAU,IACzBV,EAAE,WAAWU,IAAI,SAAU,IAK/B,SAASC,EAAcC,EAASC,GAC9B,GAAgB,UAAZD,GAAmC,UAAZC,GAAmC,OAAZA,EAChD,CAAA,IAAIC,GACHC,UAAuB,UAAZH,GAAuB,GAAK,GACvCI,kBAAmB,IACnBC,gBAAiB,SAGF,IAAIC,WAAWC,SAASnB,EAAE,eAAgBc,IAK9D,SAASM,EAAqBR,EAASC,IACjCK,WAAWG,WAAWC,QAAQ,WAA0B,OAAZT,GAAgC,UAAZA,EAsB7C,UAAZD,GACTZ,EAAE,uCAAuCuB,KAAK,WAC5CvB,EAAEwB,MAAMC,IAAI,WAvBdzB,EAAE,mBAAmBuB,KAAK,WACxB,IAAIG,EAAW1B,EAAEwB,MACJxB,EAAE,sBAAuB0B,GAE/BH,KAAK,WACVvB,EAAEwB,MAAMG,MAAM,SAASC,GACrBA,EAAEC,iBACFH,EAASI,SAAS,iBAClB9B,EAAE,aAAa+B,WAAW,cAAe,IAAML,EAASM,KAAK,OAE9CC,WAAW,SAASC,GACjCC,SAASC,KAAOF,EAGOD,WAAW,WAChCP,EAASW,YAAY,kBACpB,MACF,IAAKT,EAAEU,OAAOF,YA9D3BjC,EAAee,WAAWG,WAAWkB,SACrC5B,EAAcO,WAAWG,WAAWkB,QAAS,MAC7CnB,EAAqBF,WAAWG,WAAWkB,QAAS,MAGpDvC,EAAEwC,QAAQC,OAAO,WACftC,EAAee,WAAWG,WAAWkB,WAIvCvC,EAAEwC,QAAQE,GAAG,wBAAyB,SAASd,EAAGhB,EAASC,GACzDF,EAAcC,EAASC,GACvBO,EAAqBR,EAASC","file":"home.min.js","sourcesContent":["$(document).ready(function() {\n  'use strict';\n\n  // Initialize all the things\n  setPanelHeight(Foundation.MediaQuery.current);\n  initMoreArrow(Foundation.MediaQuery.current, null);\n  addDetailTransitions(Foundation.MediaQuery.current, null);\n\n  // Re-run size-specific things on window resize\n  $(window).resize(function() {\n    setPanelHeight(Foundation.MediaQuery.current);\n  });\n\n  // Re-run some things when the size class changes\n  $(window).on('changed.zf.mediaquery', function(e, newSize, oldSize) {\n    initMoreArrow(newSize, oldSize);\n    addDetailTransitions(newSize, oldSize);\n  });\n\n  // Set the panel height on mobile screens to account for collapsing browser chrome\n  function setPanelHeight(size) {\n    if (size === 'small') {\n      var heightOffset = viewport.max - viewport.min;\n      var navHeight = $('.nav-container').height();\n\n      $('#hero').css('height', viewport.min - navHeight);\n      $('article').css('height', viewport.max);\n    } else {\n      $('#hero').css('height', '');\n      $('article').css('height', '');\n    }\n  }\n\n  // Add smooth scrolling to the \"more\" arrow\n  function initMoreArrow(newSize, oldSize) {\n    if (newSize === 'small' || oldSize === 'small' || oldSize === null) {\n      var options = {\n       barOffset: newSize === 'small' ? -25 : 55,\n       animationDuration: 300,\n       animationEasing: 'swing'\n      };\n\n      var moreArrow = new Foundation.Magellan($('.more-arrow'), options);\n    }\n  }\n\n  // Ease transition to product detail\n  function addDetailTransitions(newSize, oldSize) {\n    if (Foundation.MediaQuery.atLeast('medium') && (oldSize === null || oldSize === 'small')) {\n      $('article.product').each(function() {\n        var $product = $(this);\n        var $links = $('[href^=\"/products\"]', $product);\n\n        $links.each(function() {\n          $(this).click(function(e) {\n            e.preventDefault();\n            $product.addClass('in-transition');\n            $('.pager ul').foundation('scrollToLoc', '#' + $product.attr('id'));\n\n            var navigate = setTimeout(function(dest) {\n              location.href = dest;\n\n              // Clean up by removing the transition class\n              var removeTransition = setTimeout(function() {\n                $product.removeClass('in-transition');\n              }, 300);\n            }, 300, e.target.href);\n          });\n        });\n      });\n    } else if (newSize === 'small') {\n      $('article.product [href^=\"/products\"]').each(function() {\n        $(this).off('click');\n      });\n    }\n  }\n});\n"]}